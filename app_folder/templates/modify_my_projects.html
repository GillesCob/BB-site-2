{% extends 'base.html' %}

{% block title %}
    My projects
{% endblock %}


    {% block content %}
    <!-- Mise en place d'une flèche pour revenir à l'environnement précédent -->
    <a href="{{ url_for('views.my_projects') }}">
        <img src="{{ url_for('static', filename='images/left-arrow.png') }}" alt="Logo" style="max-width: 50px; margin: 0 0 0 10px;">
    </a>

    <h1>Modifier le projet</h1>
    <div class="my_container">
        <div class="two_btn_container">
            <button onclick="window.location.href='/rename_project'" class="my_btn">Renommer</button>
            {%if admin_rib %}
            <button onclick="window.location.href='/rib'" class="my_btn">Modifier le RIB</button>
                {%else%}
            <button onclick="window.location.href='/rib'" class="my_btn">Ajouter le RIB</button>
                {%endif%}
        </div>
            <button onclick="openModal_delete_project()" class="my_btn red_admin_button">Supprimer le projet</button>


        <h2>Les indices concernant le pronostic</h2>
        <div class="two_btn_container">
            <button onclick="window.location.href='/change_clue_name'" class="my_btn">Le Prénom</button>
            <button onclick="window.location.href='/change_clue_due_date'" class="my_btn">La Date</button>
        </div>
        
    </div>


    <!-- Structure de la fenêtre modale pour supprimer son projet -->
    <div id="myModal_delete_project" class="modal">
        <div class="modal-content">
        <span class="close-icon" onclick="closeModal_delete_project()" style="float:right;">&times;</span>
            <div class="col offset-md-3 col-md-6 col-sm-12">
                <form method="POST" action="{{ url_for('views.delete_project') }}" class="p-5 text-center">        
                    <p>ATTENTION Cette action est irréversible !</p> 
                    <div class="d-grid gap-2 col-12 mx-auto">
                        <button type="submit" class="btn btn-danger">Supprimer mon projet</button>
                    </div>
                </form>
            </div>
        </div>
    </div>



    <script>
    // Afficher et masquer la fenêtre modale
        function openModal_delete_project() {
                document.getElementById('myModal_delete_project').style.display = 'block';
            }
            
            function closeModal_delete_project() {
                document.getElementById('myModal_delete_project').style.display = 'none';
            }

    </script>


{% endblock %}
