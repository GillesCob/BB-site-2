{% extends 'base.html' %}

{% block title %}
    Mon profil
{% endblock %}


{% block content %}
<div class="container">
    <div class="col offset-md-3 col-md-6 col-sm-12 text-center mt-4">
        <a href="/change_email" class="btn btn-primary">Changer d'adresse mail</a>
    </div>

    <div class="col offset-md-3 col-md-6 col-sm-12 text-center mt-4">
        <a href="/change_password" class="btn btn-primary">Changer de mot de passe</a>
    </div>

    <div class="col offset-md-3 col-md-6 col-sm-12 text-center mt-4">
        <button onclick="openModal_delete_profil()" class="btn btn-danger mt-4">Supprimer votre profil</button>
    </div>
</div>

<!-- Styles pour la fenêtre modale -->
<style>
    .modal {
        display: none; /* Masquer la fenêtre modale par défaut */
        position: fixed;
        z-index: 1;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0,0,0,0.4);
    }
    
    .modal-content {
        background-color: #991111;
        margin: 15% auto;
        padding: 20px;
        border: 1px solid #888;
        width: 80%;
    }

    .close-icon {
        cursor: pointer;
    }
</style>

<!-- Structure de la fenêtre modale pour supprimer son profil -->
<div id="myModal_delete_profil" class="modal">
    <div class="modal-content">
        <span class="close-icon" onclick="closeModal_delete_profil()" style="float:right;">&times;</span>
        <div class="col offset-md-3 col-md-6 col-sm-12">
            <form method="POST" action="{{ url_for('auth.delete_account') }}" class="p-5 text-center">
                <p>ATTENTION cette action est irréversible !</p>
                <div class="d-grid gap-2 col-12 mx-auto">
                    <button type="submit" class="btn btn-danger">Supprimer mon profil</button>
                </div>
            </form>
        </div>
    </div>
</div>


<script>
    function openModal_delete_profil() {
        document.getElementById('myModal_delete_profil').style.display = 'block';
    }
    
    function closeModal_delete_profil() {
        document.getElementById('myModal_delete_profil').style.display = 'none';
    }
</script>


{% endblock %}
